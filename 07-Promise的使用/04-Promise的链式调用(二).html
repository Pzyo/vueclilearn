<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			// 网络请求：aaa
			// 处理：aaa111 (拼接)
			// 处理：aaa111222 (拼接)
			// new Promise((resolve, reject) => {
			// 	setTimeout(() => {
			// 		resolve('aaa')
			// 	}, 1000)
			// }).then(res => {
			// 	return new Promise(resolve => {
			// 		resolve(res + '111')
			// 	})
			// }).then(res => {
			// 	return new Promise(resolve => {
			// 		resolve(res + '222')
			// 	})
			// }).then(res => {
			// 	console.log(res)
			// })
			
			// 初略简写
			// new Promise((resolve, reject) => {
			// 	setTimeout(() => {
			// 		resolve('aaa')
			// 	}, 1000)
			// }).then(res => {
			// 	return Promise.resolve(res + '111')
			// }).then(res => {
			// 	return Promise.resolve(res + '222')
			// }).then(res => {
			// 	console.log(res)
			// })
			
			// 更简写
			new Promise((resolve, reject) => {
				setTimeout(() => {
					resolve('aaa')
				}, 1000)
			}).then(res => {
				// return Promise.reject(res + '111')
				throw res + '111'
			}).then(res => {
				return res + '222'
			}).then(res => {
				console.log(res)
			}).catch(err => {
				console.log('Error Message: ' + err)
			})
			
		</script>
	</body>
</html>
